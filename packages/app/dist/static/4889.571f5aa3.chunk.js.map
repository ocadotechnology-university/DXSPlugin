{"version":3,"file":"static/4889.571f5aa3.chunk.js","mappings":"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","sources":["webpack://app/../../node_modules/@backstage/plugin-api-docs/dist/esm/ApiExplorerPage-ce544a95.esm.js","webpack://app/../../node_modules/@mui/utils/visuallyHidden/visuallyHidden.js","webpack://app/../../node_modules/@backstage/plugin-catalog/dist/esm/CatalogTable-c38b6560.esm.js","webpack://app/../../node_modules/@material-ui/icons/OpenInNew.js"],"sourcesContent":["import React from 'react';\nimport { useOutlet } from 'react-router-dom';\nimport { PageWithHeader, Content, ContentHeader, CreateButton, SupportButton } from '@backstage/core-components';\nimport { useApi, configApiRef, useRouteRef } from '@backstage/core-plugin-api';\nimport { CatalogTable } from '@backstage/plugin-catalog';\nimport { EntityListProvider, CatalogFilterLayout, EntityKindPicker, EntityTypePicker, UserListPicker, EntityOwnerPicker, EntityLifecyclePicker, EntityTagPicker } from '@backstage/plugin-catalog-react';\nimport { b as registerComponentRouteRef } from './ApiDefinitionWidget-798ee85f.esm.js';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common/alpha';\n\nconst defaultColumns = [\n  CatalogTable.columns.createTitleColumn({ hidden: true }),\n  CatalogTable.columns.createNameColumn({ defaultKind: \"API\" }),\n  CatalogTable.columns.createSystemColumn(),\n  CatalogTable.columns.createOwnerColumn(),\n  CatalogTable.columns.createSpecTypeColumn(),\n  CatalogTable.columns.createSpecLifecycleColumn(),\n  CatalogTable.columns.createMetadataDescriptionColumn(),\n  CatalogTable.columns.createTagsColumn()\n];\nconst DefaultApiExplorerPage = (props) => {\n  var _a;\n  const { initiallySelectedFilter = \"all\", columns, actions } = props;\n  const configApi = useApi(configApiRef);\n  const generatedSubtitle = `${(_a = configApi.getOptionalString(\"organization.name\")) != null ? _a : \"Backstage\"} API Explorer`;\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission\n  });\n  return /* @__PURE__ */ React.createElement(\n    PageWithHeader,\n    {\n      themeId: \"apis\",\n      title: \"APIs\",\n      subtitle: generatedSubtitle,\n      pageTitleOverride: \"APIs\"\n    },\n    /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, { title: \"\" }, allowed && /* @__PURE__ */ React.createElement(\n      CreateButton,\n      {\n        title: \"Register Existing API\",\n        to: registerComponentLink == null ? void 0 : registerComponentLink()\n      }\n    ), /* @__PURE__ */ React.createElement(SupportButton, null, \"All your APIs\")), /* @__PURE__ */ React.createElement(EntityListProvider, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout.Filters, null, /* @__PURE__ */ React.createElement(EntityKindPicker, { initialFilter: \"api\", hidden: true }), /* @__PURE__ */ React.createElement(EntityTypePicker, null), /* @__PURE__ */ React.createElement(UserListPicker, { initialFilter: initiallySelectedFilter }), /* @__PURE__ */ React.createElement(EntityOwnerPicker, null), /* @__PURE__ */ React.createElement(EntityLifecyclePicker, null), /* @__PURE__ */ React.createElement(EntityTagPicker, null)), /* @__PURE__ */ React.createElement(CatalogFilterLayout.Content, null, /* @__PURE__ */ React.createElement(\n      CatalogTable,\n      {\n        columns: columns || defaultColumns,\n        actions\n      }\n    )))))\n  );\n};\n\nconst ApiExplorerPage = (props) => {\n  const outlet = useOutlet();\n  return outlet || /* @__PURE__ */ React.createElement(DefaultApiExplorerPage, { ...props });\n};\n\nexport { ApiExplorerPage as A, DefaultApiExplorerPage as D };\n//# sourceMappingURL=ApiExplorerPage-ce544a95.esm.js.map\n","const visuallyHidden = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'absolute',\n  whiteSpace: 'nowrap',\n  width: '1px'\n};\nexport default visuallyHidden;","import { RELATION_PART_OF, RELATION_OWNED_BY, stringifyEntityRef, ANNOTATION_VIEW_URL, ANNOTATION_EDIT_URL } from '@backstage/catalog-model';\nimport { OverflowTooltip, Table, WarningPanel, CodeSnippet } from '@backstage/core-components';\nimport { EntityRefLink, EntityRefLinks, humanizeEntityRef, useEntityList, EntityTextFilter, useStarredEntities, getEntityRelations } from '@backstage/plugin-catalog-react';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport { visuallyHidden } from '@mui/utils';\nimport EditIcon from '@material-ui/icons/Edit';\nimport OpenInNew from '@material-ui/icons/OpenInNew';\nimport Star from '@material-ui/icons/Star';\nimport StarBorder from '@material-ui/icons/StarBorder';\nimport { capitalize } from 'lodash';\nimport pluralize from 'pluralize';\nimport React, { useMemo } from 'react';\nimport { Chip } from '@material-ui/core';\n\nconst columnFactories = Object.freeze({\n  createNameColumn(options) {\n    function formatContent(entity) {\n      var _a;\n      return ((_a = entity.metadata) == null ? void 0 : _a.title) || humanizeEntityRef(entity, {\n        defaultKind: options == null ? void 0 : options.defaultKind\n      });\n    }\n    return {\n      title: \"Name\",\n      field: \"resolved.entityRef\",\n      highlight: true,\n      customSort({ entity: entity1 }, { entity: entity2 }) {\n        return formatContent(entity1).localeCompare(formatContent(entity2));\n      },\n      render: ({ entity }) => /* @__PURE__ */ React.createElement(\n        EntityRefLink,\n        {\n          entityRef: entity,\n          defaultKind: (options == null ? void 0 : options.defaultKind) || \"Component\"\n        }\n      )\n    };\n  },\n  createSystemColumn() {\n    return {\n      title: \"System\",\n      field: \"resolved.partOfSystemRelationTitle\",\n      render: ({ resolved }) => /* @__PURE__ */ React.createElement(\n        EntityRefLinks,\n        {\n          entityRefs: resolved.partOfSystemRelations,\n          defaultKind: \"system\"\n        }\n      )\n    };\n  },\n  createOwnerColumn() {\n    return {\n      title: \"Owner\",\n      field: \"resolved.ownedByRelationsTitle\",\n      render: ({ resolved }) => /* @__PURE__ */ React.createElement(\n        EntityRefLinks,\n        {\n          entityRefs: resolved.ownedByRelations,\n          defaultKind: \"group\"\n        }\n      )\n    };\n  },\n  createSpecTargetsColumn() {\n    return {\n      title: \"Targets\",\n      field: \"entity.spec.targets\",\n      render: ({ entity }) => {\n        var _a, _b;\n        return /* @__PURE__ */ React.createElement(React.Fragment, null, (((_a = entity == null ? void 0 : entity.spec) == null ? void 0 : _a.targets) || ((_b = entity == null ? void 0 : entity.spec) == null ? void 0 : _b.target)) && /* @__PURE__ */ React.createElement(\n          OverflowTooltip,\n          {\n            text: (entity.spec.targets || [entity.spec.target]).join(\", \"),\n            placement: \"bottom-start\"\n          }\n        ));\n      }\n    };\n  },\n  createSpecTypeColumn(options = { hidden: false }) {\n    return {\n      title: \"Type\",\n      field: \"entity.spec.type\",\n      hidden: options.hidden,\n      width: \"auto\"\n    };\n  },\n  createSpecLifecycleColumn() {\n    return {\n      title: \"Lifecycle\",\n      field: \"entity.spec.lifecycle\"\n    };\n  },\n  createMetadataDescriptionColumn() {\n    return {\n      title: \"Description\",\n      field: \"entity.metadata.description\",\n      render: ({ entity }) => /* @__PURE__ */ React.createElement(\n        OverflowTooltip,\n        {\n          text: entity.metadata.description,\n          placement: \"bottom-start\"\n        }\n      ),\n      width: \"auto\"\n    };\n  },\n  createTagsColumn() {\n    return {\n      title: \"Tags\",\n      field: \"entity.metadata.tags\",\n      cellStyle: {\n        padding: \"0px 16px 0px 20px\"\n      },\n      render: ({ entity }) => /* @__PURE__ */ React.createElement(React.Fragment, null, entity.metadata.tags && entity.metadata.tags.map((t) => /* @__PURE__ */ React.createElement(\n        Chip,\n        {\n          key: t,\n          label: t,\n          size: \"small\",\n          variant: \"outlined\",\n          style: { marginBottom: \"0px\" }\n        }\n      ))),\n      width: \"auto\"\n    };\n  },\n  createTitleColumn(options) {\n    return {\n      title: \"Title\",\n      field: \"entity.metadata.title\",\n      hidden: options == null ? void 0 : options.hidden,\n      searchable: true\n    };\n  },\n  createLabelColumn(key, options) {\n    return {\n      title: (options == null ? void 0 : options.title) || \"Label\",\n      field: \"entity.metadata.labels\",\n      cellStyle: {\n        padding: \"0px 16px 0px 20px\"\n      },\n      render: ({ entity }) => {\n        var _a;\n        const labels = (_a = entity.metadata) == null ? void 0 : _a.labels;\n        const specifiedLabelValue = labels && labels[key] || (options == null ? void 0 : options.defaultValue);\n        return /* @__PURE__ */ React.createElement(React.Fragment, null, specifiedLabelValue && /* @__PURE__ */ React.createElement(\n          Chip,\n          {\n            key: specifiedLabelValue,\n            label: specifiedLabelValue,\n            size: \"small\",\n            variant: \"outlined\"\n          }\n        ));\n      },\n      width: \"auto\"\n    };\n  },\n  createNamespaceColumn() {\n    return {\n      title: \"Namespace\",\n      field: \"entity.metadata.namespace\",\n      width: \"auto\"\n    };\n  }\n});\n\nfunction PaginatedCatalogTable(props) {\n  const { columns, data, next, prev } = props;\n  const { updateFilters } = useEntityList();\n  return /* @__PURE__ */ React.createElement(\n    Table,\n    {\n      columns,\n      data,\n      options: {\n        paginationPosition: \"both\",\n        pageSizeOptions: [],\n        showFirstLastPageButtons: false,\n        pageSize: Number.MAX_SAFE_INTEGER,\n        emptyRowsWhenPaging: false\n      },\n      onSearchChange: (searchText) => updateFilters({\n        text: searchText ? new EntityTextFilter(searchText) : void 0\n      }),\n      onPageChange: (page) => {\n        if (page > 0) {\n          next == null ? void 0 : next();\n        } else {\n          prev == null ? void 0 : prev();\n        }\n      },\n      page: prev ? 1 : 0,\n      totalCount: next ? Number.MAX_VALUE : Number.MAX_SAFE_INTEGER,\n      localization: { pagination: { labelDisplayedRows: \"\" } }\n    }\n  );\n}\n\nconst defaultCatalogTableColumnsFunc = ({\n  filters,\n  entities\n}) => {\n  var _a;\n  const showTypeColumn = filters.type === void 0;\n  return [\n    columnFactories.createTitleColumn({ hidden: true }),\n    columnFactories.createNameColumn({ defaultKind: (_a = filters.kind) == null ? void 0 : _a.value }),\n    ...createEntitySpecificColumns(),\n    columnFactories.createMetadataDescriptionColumn(),\n    columnFactories.createTagsColumn()\n  ];\n  function createEntitySpecificColumns() {\n    var _a2;\n    const baseColumns = [\n      columnFactories.createSystemColumn(),\n      columnFactories.createOwnerColumn(),\n      columnFactories.createSpecTypeColumn({ hidden: !showTypeColumn }),\n      columnFactories.createSpecLifecycleColumn()\n    ];\n    switch ((_a2 = filters.kind) == null ? void 0 : _a2.value) {\n      case \"user\":\n        return [];\n      case \"domain\":\n      case \"system\":\n        return [columnFactories.createOwnerColumn()];\n      case \"group\":\n      case \"template\":\n        return [\n          columnFactories.createSpecTypeColumn({ hidden: !showTypeColumn })\n        ];\n      case \"location\":\n        return [\n          columnFactories.createSpecTypeColumn({ hidden: !showTypeColumn }),\n          columnFactories.createSpecTargetsColumn()\n        ];\n      default:\n        return entities.every((entity) => entity.metadata.namespace === \"default\") ? baseColumns : [...baseColumns, columnFactories.createNamespaceColumn()];\n    }\n  }\n};\n\nconst YellowStar = withStyles({\n  root: {\n    color: \"#f3ba37\"\n  }\n})(Star);\nconst refCompare = (a, b) => {\n  const toRef = (entity) => entity.metadata.title || humanizeEntityRef(entity, {\n    defaultKind: \"Component\"\n  });\n  return toRef(a).localeCompare(toRef(b));\n};\nconst CatalogTable = (props) => {\n  var _a, _b, _c, _d;\n  const {\n    columns = defaultCatalogTableColumnsFunc,\n    tableOptions,\n    subtitle,\n    emptyContent\n  } = props;\n  const { isStarredEntity, toggleStarredEntity } = useStarredEntities();\n  const entityListContext = useEntityList();\n  const { loading, error, entities, filters, pageInfo } = entityListContext;\n  const enablePagination = !!pageInfo;\n  const tableColumns = useMemo(\n    () => typeof columns === \"function\" ? columns(entityListContext) : columns,\n    [columns, entityListContext]\n  );\n  if (error) {\n    return /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(\n      WarningPanel,\n      {\n        severity: \"error\",\n        title: \"Could not fetch catalog entities.\"\n      },\n      /* @__PURE__ */ React.createElement(CodeSnippet, { language: \"text\", text: error.toString() })\n    ));\n  }\n  const defaultActions = [\n    ({ entity }) => {\n      var _a2;\n      const url = (_a2 = entity.metadata.annotations) == null ? void 0 : _a2[ANNOTATION_VIEW_URL];\n      const title2 = \"View\";\n      return {\n        icon: () => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { style: visuallyHidden }, title2), /* @__PURE__ */ React.createElement(OpenInNew, { fontSize: \"small\" })),\n        tooltip: title2,\n        disabled: !url,\n        onClick: () => {\n          if (!url)\n            return;\n          window.open(url, \"_blank\");\n        }\n      };\n    },\n    ({ entity }) => {\n      var _a2;\n      const url = (_a2 = entity.metadata.annotations) == null ? void 0 : _a2[ANNOTATION_EDIT_URL];\n      const title2 = \"Edit\";\n      return {\n        icon: () => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { style: visuallyHidden }, title2), /* @__PURE__ */ React.createElement(EditIcon, { fontSize: \"small\" })),\n        tooltip: title2,\n        disabled: !url,\n        onClick: () => {\n          if (!url)\n            return;\n          window.open(url, \"_blank\");\n        }\n      };\n    },\n    ({ entity }) => {\n      const isStarred = isStarredEntity(entity);\n      const title2 = isStarred ? \"Remove from favorites\" : \"Add to favorites\";\n      return {\n        cellStyle: { paddingLeft: \"1em\" },\n        icon: () => /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Typography, { style: visuallyHidden }, title2), isStarred ? /* @__PURE__ */ React.createElement(YellowStar, null) : /* @__PURE__ */ React.createElement(StarBorder, null)),\n        tooltip: title2,\n        onClick: () => toggleStarredEntity(entity)\n      };\n    }\n  ];\n  const currentKind = ((_a = filters.kind) == null ? void 0 : _a.value) || \"\";\n  const currentType = ((_b = filters.type) == null ? void 0 : _b.value) || \"\";\n  const titlePreamble = capitalize((_d = (_c = filters.user) == null ? void 0 : _c.value) != null ? _d : \"all\");\n  const titleDisplay = [titlePreamble, currentType, pluralize(currentKind)].filter((s) => s).join(\" \");\n  const title = `${titleDisplay} (${entities.length})`;\n  const actions = props.actions || defaultActions;\n  const options = {\n    actionsColumnIndex: -1,\n    loadingType: \"linear\",\n    showEmptyDataSourceMessage: !loading,\n    padding: \"dense\",\n    ...tableOptions\n  };\n  if (enablePagination) {\n    return /* @__PURE__ */ React.createElement(\n      PaginatedCatalogTable,\n      {\n        columns: tableColumns,\n        emptyContent,\n        isLoading: loading,\n        title,\n        actions,\n        subtitle,\n        options,\n        data: entities.map(toEntityRow),\n        next: pageInfo.next,\n        prev: pageInfo.prev\n      }\n    );\n  }\n  const rows = entities.sort(refCompare).map(toEntityRow);\n  const pageSize = 20;\n  const showPagination = rows.length > pageSize;\n  return /* @__PURE__ */ React.createElement(\n    Table,\n    {\n      isLoading: loading,\n      columns: tableColumns,\n      options: {\n        paging: showPagination,\n        pageSize,\n        pageSizeOptions: [20, 50, 100],\n        ...options\n      },\n      title: `${titleDisplay} (${entities.length})`,\n      data: rows,\n      actions,\n      subtitle,\n      emptyContent\n    }\n  );\n};\nCatalogTable.columns = columnFactories;\nCatalogTable.defaultColumnsFunc = defaultCatalogTableColumnsFunc;\nfunction toEntityRow(entity) {\n  const partOfSystemRelations = getEntityRelations(entity, RELATION_PART_OF, {\n    kind: \"system\"\n  });\n  const ownedByRelations = getEntityRelations(entity, RELATION_OWNED_BY);\n  return {\n    entity,\n    resolved: {\n      // This name is here for backwards compatibility mostly; the\n      // presentation of refs in the table should in general be handled with\n      // EntityRefLink / EntityName components\n      name: humanizeEntityRef(entity, {\n        defaultKind: \"Component\"\n      }),\n      entityRef: stringifyEntityRef(entity),\n      ownedByRelationsTitle: ownedByRelations.map((r) => humanizeEntityRef(r, { defaultKind: \"group\" })).join(\", \"),\n      ownedByRelations,\n      partOfSystemRelationTitle: partOfSystemRelations.map(\n        (r) => humanizeEntityRef(r, {\n          defaultKind: \"system\"\n        })\n      ).join(\", \"),\n      partOfSystemRelations\n    }\n  };\n}\n\nexport { CatalogTable as C };\n//# sourceMappingURL=CatalogTable-c38b6560.esm.js.map\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"\n}), 'OpenInNew');\n\nexports.default = _default;"],"names":["defaultColumns","DefaultApiExplorerPage","props","_a","initiallySelectedFilter","columns","actions","generatedSubtitle","registerComponentLink","allowed","ApiExplorerPage","columnFactories","options","formatContent","entity","entity1","entity2","resolved","_b","t","Chip","key","labels","specifiedLabelValue","PaginatedCatalogTable","data","next","prev","updateFilters","searchText","page","defaultCatalogTableColumnsFunc","filters","entities","showTypeColumn","createEntitySpecificColumns","_a2","baseColumns","YellowStar","withStyles","Star","refCompare","a","b","toRef","CatalogTable","_c","_d","tableOptions","subtitle","emptyContent","isStarredEntity","toggleStarredEntity","entityListContext","loading","error","pageInfo","enablePagination","tableColumns","defaultActions","url","title2","Typography","OpenInNew","Edit","isStarred","StarBorder","currentKind","currentType","titleDisplay","s","title","toEntityRow","rows","pageSize","showPagination","partOfSystemRelations","ownedByRelations","r","_interopRequireDefault","_interopRequireWildcard","exports","React","_createSvgIcon","_default"],"sourceRoot":""}