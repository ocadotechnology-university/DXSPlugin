'use strict';

<<<<<<< HEAD
Object.defineProperty(exports, '__esModule', { value: true });

=======
>>>>>>> master
var backendPluginApi = require('@backstage/backend-plugin-api');
var fs = require('fs-extra');
var path = require('path');
var configLoader = require('@backstage/config-loader');

<<<<<<< HEAD
function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var fs__default = /*#__PURE__*/_interopDefaultLegacy(fs);
=======
function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e : { default: e }; }

var fs__default = /*#__PURE__*/_interopDefaultCompat(fs);
>>>>>>> master

const staticFallbackHandlerExtensionPoint = backendPluginApi.createExtensionPoint({
  id: "app.staticFallbackHandler"
});
const configSchemaExtensionPoint = backendPluginApi.createExtensionPoint({
  id: "app.configSchema"
});

async function loadCompiledConfigSchema(appDistDir) {
  const schemaPath = path.resolve(appDistDir, ".config-schema.json");
<<<<<<< HEAD
  if (await fs__default["default"].pathExists(schemaPath)) {
    const serializedSchema = await fs__default["default"].readJson(schemaPath);
=======
  if (await fs__default.default.pathExists(schemaPath)) {
    const serializedSchema = await fs__default.default.readJson(schemaPath);
>>>>>>> master
    return await configLoader.loadConfigSchema({
      serialized: serializedSchema
    });
  }
  return void 0;
}

exports.configSchemaExtensionPoint = configSchemaExtensionPoint;
exports.loadCompiledConfigSchema = loadCompiledConfigSchema;
exports.staticFallbackHandlerExtensionPoint = staticFallbackHandlerExtensionPoint;
//# sourceMappingURL=index.cjs.js.map
