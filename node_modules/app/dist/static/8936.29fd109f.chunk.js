"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8936],{56555:(me,w,o)=>{o.r(w),o.d(w,{GroupProfileCard:()=>_e,MembersListCard:()=>He,MyGroupsSidebarItem:()=>Nt.k8,OwnershipCard:()=>xt,UserProfileCard:()=>at});var d=o(29835),x=o(58054),P=o(92651),F=o(58837),Q=o(99703),b=o(77125),j=o(72501),T=o(42899),pe=o(73643),J=o(89575),ne=o(39850),t=o(14041),oe=o(9546),ge=o(7031),U=o(83705),$e=o(90689),Pe=o(45065);function Se(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=a.boundaryCount,l=e===void 0?1:e,n=a.componentName,r=n===void 0?"usePagination":n,i=a.count,s=i===void 0?1:i,g=a.defaultPage,c=g===void 0?1:g,u=a.disabled,m=u===void 0?!1:u,p=a.hideNextButton,S=p===void 0?!1:p,v=a.hidePrevButton,f=v===void 0?!1:v,N=a.onChange,h=a.page,E=a.showFirstButton,C=E===void 0?!1:E,A=a.showLastButton,B=A===void 0?!1:A,z=a.siblingCount,R=z===void 0?1:z,M=(0,ne.A)(a,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),G=(0,Pe.A)({controlled:h,default:c,name:r,state:"page"}),q=(0,$e.A)(G,2),$=q[0],X=q[1],I=function(W,D){h||X(D),N&&N(W,D)},k=function(W,D){var Pt=D-W+1;return Array.from({length:Pt},function(Rt,St){return W+St})},ue=k(1,Math.min(l,s)),O=k(Math.max(s-l+1,l+1),s),ae=Math.max(Math.min($-R,s-l-R*2-1),l+2),Ne=Math.min(Math.max($+R,l+R*2+2),O[0]-2),Lt=[].concat((0,U.A)(C?["first"]:[]),(0,U.A)(f?[]:["previous"]),(0,U.A)(ue),(0,U.A)(ae>l+2?["start-ellipsis"]:l+1<s-l?[l+1]:[]),(0,U.A)(k(ae,Ne)),(0,U.A)(Ne<s-l-1?["end-ellipsis"]:s-l>l?[s-l]:[]),(0,U.A)(O),(0,U.A)(S?[]:["next"]),(0,U.A)(B?["last"]:[])),Le=function(W){switch(W){case"first":return 1;case"previous":return $-1;case"next":return $+1;case"last":return s;default:return null}},$t=Lt.map(function(L){return typeof L=="number"?{onClick:function(D){I(D,L)},type:"page",page:L,selected:L===$,disabled:m,"aria-current":L===$?"true":void 0}:{onClick:function(D){I(D,Le(L))},type:L,page:Le(L),selected:!1,disabled:m||L.indexOf("ellipsis")===-1&&(L==="next"||L==="last"?$>=s:$<=1)}});return(0,J.A)({items:$t},M)}var V=o(268),Re=o(54917),Me=o(97740),ee=o(38483);const ve=(0,ee.A)(t.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),fe=(0,ee.A)(t.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),ye=(0,ee.A)(t.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),he=(0,ee.A)(t.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");var le=o(11192),Ge=function(e){return{root:(0,J.A)({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:(0,V.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat((0,V.X4)(e.palette.primary.main,.5)),backgroundColor:(0,V.X4)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,V.X4)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat((0,V.X4)(e.palette.secondary.main,.5)),backgroundColor:(0,V.X4)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:(0,V.X4)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}},Be=t.forwardRef(function(e,l){var n=e.classes,r=e.className,i=e.color,s=i===void 0?"standard":i,g=e.component,c=e.disabled,u=c===void 0?!1:c,m=e.page,p=e.selected,S=p===void 0?!1:p,v=e.shape,f=v===void 0?"round":v,N=e.size,h=N===void 0?"medium":N,E=e.type,C=E===void 0?"page":E,A=e.variant,B=A===void 0?"text":A,z=(0,ne.A)(e,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),R=(0,Re.A)(),M=R.direction==="rtl"?{previous:he,next:ye,last:ve,first:fe}:{previous:ye,next:he,first:ve,last:fe},G=M[C];return C==="start-ellipsis"||C==="end-ellipsis"?t.createElement("div",{ref:l,className:(0,oe.default)(n.root,n.ellipsis,u&&n.disabled,h!=="medium"&&n["size".concat((0,le.A)(h))])},"\u2026"):t.createElement(Me.A,(0,J.A)({ref:l,component:g,disabled:u,focusVisibleClassName:n.focusVisible,className:(0,oe.default)(n.root,n.page,n[B],n[f],r,s!=="standard"&&n["".concat(B).concat((0,le.A)(s))],u&&n.disabled,S&&n.selected,h!=="medium"&&n["size".concat((0,le.A)(h))])},z),C==="page"&&m,G?t.createElement(G,{className:n.icon}):null)});const Ie=(0,ge.A)(Ge,{name:"MuiPaginationItem"})(Be);var ze={root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}};function Te(a,e,l){return a==="page"?"".concat(l?"":"Go to ","page ").concat(e):"Go to ".concat(a," page")}var Ue=t.forwardRef(function(e,l){var n=e.boundaryCount,r=e.classes,i=e.className,s=e.color,g=s===void 0?"standard":s,c=e.count,u=e.defaultPage,m=e.disabled,p=e.getItemAriaLabel,S=p===void 0?Te:p,v=e.hideNextButton,f=e.hidePrevButton,N=e.onChange,h=e.page,E=e.renderItem,C=E===void 0?function(O){return t.createElement(Ie,O)}:E,A=e.shape,B=A===void 0?"round":A,z=e.showFirstButton,R=e.showLastButton,M=e.siblingCount,G=e.size,q=G===void 0?"medium":G,$=e.variant,X=$===void 0?"text":$,I=(0,ne.A)(e,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),k=Se((0,J.A)({},e,{componentName:"Pagination"})),ue=k.items;return t.createElement("nav",(0,J.A)({"aria-label":"pagination navigation",className:(0,oe.default)(r.root,i),ref:l},I),t.createElement("ul",{className:r.ul},ue.map(function(O,ae){return t.createElement("li",{key:ae},C((0,J.A)({},O,{color:g,"aria-label":S(O.type,O.page,O.selected),shape:B,size:q,variant:X})))})))});const ke=(0,ge.A)(ze,{name:"MuiPagination"})(Ue);var re=o(91638),y=o(23180),_=o(48821);const Oe=async(a,e)=>(a.length===0?{items:[]}:await e.getEntities({filter:{kind:"User","relations.memberof":a.map(n=>(0,d.U2)({kind:"group",namespace:n.namespace.toLocaleLowerCase("en-US"),name:n.name.toLocaleLowerCase("en-US")}))}})).items,we=async(a,e)=>{var l;const n=new Map,i=[{kind:a.kind,namespace:(l=a.metadata.namespace)!=null?l:d.oQ,name:a.metadata.name}],s=[];for(;i.length>0;){const g=i.shift(),c=await e.getEntityByRef(g);n.set((0,d.U2)(g),!0);const u=(0,x.g)(c,d.Kx,{kind:"Group"}).filter(m=>!n.has((0,d.U2)(m)));u.forEach(m=>n.set((0,d.U2)(m),!0)),i.push(...u),s.push(...u)}return s},Fe=async(a,e)=>Oe(await we(a,e),e),We=a=>{const e=new Map;return a.filter(l=>{const n=(0,d.U2)(l),r=e.has(n);return e.set(n,!0),!r})},De=(0,F.A)(a=>(0,Q.A)({card:{border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2],borderRadius:"4px",overflow:"visible",position:"relative",margin:a.spacing(4,1,1),flex:"1",minWidth:"0px"}})),Ve=a=>{var e;const l=De(),{metadata:{name:n,description:r},spec:{profile:i}}=a.member,s=(e=i==null?void 0:i.displayName)!=null?e:n;return t.createElement(b.A,{className:l.card},t.createElement(b.A,{display:"flex",flexDirection:"column",m:3,alignItems:"center",justifyContent:"center"},t.createElement(y.eu,{displayName:s,picture:i==null?void 0:i.picture,customStyles:{position:"absolute",top:"-2rem"}}),t.createElement(b.A,{pt:2,sx:{width:"100%"},textAlign:"center"},t.createElement(j.A,{variant:"h6"},t.createElement(P.zI,{"data-testid":"user-link",entityRef:a.member,title:s})),(i==null?void 0:i.email)&&t.createElement(y.N_,{to:`mailto:${i.email}`},t.createElement(y.Mm,{text:i.email})),r&&t.createElement(j.A,{variant:"subtitle2"},r))))},Ke=(0,F.A)(a=>({root:{height:"100%"},cardContent:{overflow:"auto"},memberList:{display:"grid",gap:a.spacing(1.5),gridTemplateColumns:`repeat(auto-fit, minmax(auto, ${a.spacing(34)}px))`}})),He=a=>{var e;const{memberDisplayTitle:l="Members",pageSize:n=50,showAggregateMembersToggle:r}=a,i=Ke(),{entity:s}=(0,x.u)(),{metadata:{name:g,namespace:c},spec:{profile:u}}=s,m=(0,_.u)(P.vp),p=(e=u==null?void 0:u.displayName)!=null?e:g,S=c||d.oQ,[v,f]=t.useState(1),N=(I,k)=>{f(k)},[h,E]=(0,t.useState)(!1),{loading:C,value:A}=(0,re.default)(async()=>r?await Fe(s,m):[],[m,s,r]),{loading:B,error:z,value:R}=(0,re.default)(async()=>(await m.getEntities({filter:{kind:"User","relations.memberof":[(0,d.U2)({kind:"group",namespace:S.toLocaleLowerCase("en-US"),name:g.toLocaleLowerCase("en-US")})]}})).items,[m,s]),M=We([...R!=null?R:[],...A&&h?A:[]].sort((I,k)=>(0,d.U2)(I).localeCompare((0,d.U2)(k))));if(B)return t.createElement(y.ke,null);if(z)return t.createElement(y._1,{error:z});const G=Math.ceil(((M==null?void 0:M.length)||0)/n),q=G<2?"":`, page ${v} of ${G}`,$=t.createElement(ke,{count:G,page:v,onChange:N,showFirstButton:!0,showLastButton:!0});let X;return M&&M.length>0?X=t.createElement(b.A,{className:i.memberList},M.slice(n*(v-1),n*v).map(I=>t.createElement(Ve,{member:I,key:I.metadata.uid}))):X=t.createElement(b.A,{p:2},t.createElement(j.A,null,"This group has no ",l.toLocaleLowerCase(),".")),t.createElement(T.A,{item:!0,className:i.root},t.createElement(y.nO,{title:`${l} (${(M==null?void 0:M.length)||0}${q})`,subheader:`of ${p}`,...G<=1?{}:{actions:$},className:i.root,cardClassName:i.cardContent},r&&t.createElement(t.Fragment,null,"Direct Members",t.createElement(pe.A,{color:"primary",checked:h,onChange:()=>{E(!h)},inputProps:{"aria-label":"Users Type Switch"}}),"Aggregated Members"),h&&C?t.createElement(y.ke,null):X))};var te=o(29365),ie=o(58007),K=o(8109),Y=o(46423),Z=o(71677),H=o(5951),Xe=o(86486),Ee=o(74219),Qe=o(74011),se=o(75625),Ae=o(85121),ce=o(47966),be=o(11638),de=o(23127),je=o(37197);const Je=({href:a,Icon:e,text:l})=>t.createElement(K.A,{key:a},t.createElement(Y.A,null,e?t.createElement(e,null):t.createElement(de.A,null)),t.createElement(H.A,null,t.createElement(y.N_,{to:a},l))),Ce=({links:a})=>{const e=(0,be.nm)(),l=n=>{var r;return n&&(r=e.getSystemIcon(n))!=null?r:de.A};return a===void 0?null:t.createElement(t.Fragment,null,t.createElement(je.A,null),a.map(n=>t.createElement(Je,{key:n.url,href:n.url,text:n.title,Icon:l(n.icon)})))};var Ye=o(90749),Ze=o(99993);const qe=a=>t.createElement(b.A,{display:"flex",alignItems:"center"},t.createElement(ce.A,{fontSize:"inherit"}),t.createElement(b.A,{ml:1},a.title)),_e=a=>{var e,l,n;const r=(0,_.u)(P.vp),i=(0,_.u)(_.l),{entity:s}=(0,x.u)(),{allowed:g}=(0,Ye.Az)(Ze.tS),c=(0,t.useCallback)(async()=>{await r.refreshEntity((0,d.U2)(s)),i.post({message:"Refresh scheduled",severity:"info",display:"transient"})},[r,i,s]);if(!s)return t.createElement(Ee.A,{severity:"error"},"Group not found");const{metadata:{name:u,description:m,title:p,annotations:S,links:v},spec:{profile:f}}=s,N=(0,x.g)(s,d.Kx,{kind:"Group"}),h=(0,x.g)(s,d.Qz,{kind:"group"}),E=S==null?void 0:S[d.Eo],C=(E==null?void 0:E.startsWith("url:"))||(E==null?void 0:E.startsWith("file:")),A=(e=s.metadata.annotations)==null?void 0:e[d.P],B=(n=(l=f==null?void 0:f.displayName)!=null?l:p)!=null?n:u,z=f!=null&&f.email?`mailto:${f.email}`:"#",R=A?t.createElement(te.A,{"aria-label":"Edit",title:"Edit Metadata",component:y.N_,to:A},t.createElement(se.A,null)):t.createElement(te.A,{"aria-label":"Edit",disabled:!0,title:"Edit Metadata"},t.createElement(se.A,null));return t.createElement(y.nO,{title:t.createElement(qe,{title:B}),subheader:m,variant:a.variant,action:t.createElement(t.Fragment,null,C&&g&&t.createElement(te.A,{"aria-label":"Refresh",title:"Schedule entity refresh",onClick:c},t.createElement(Qe.A,null)),R)},t.createElement(T.A,{container:!0,spacing:3},t.createElement(T.A,{item:!0,xs:12,sm:2,xl:1},t.createElement(y.eu,{displayName:B,picture:f==null?void 0:f.picture})),t.createElement(T.A,{item:!0,md:10,xl:11},t.createElement(ie.A,null,(f==null?void 0:f.email)&&t.createElement(K.A,null,t.createElement(Y.A,null,t.createElement(Z.Ay,{title:"Email"},t.createElement(Ae.A,null))),t.createElement(H.A,{primary:t.createElement(y.N_,{to:z},f.email),secondary:"Email"})),t.createElement(K.A,null,t.createElement(Y.A,null,t.createElement(Z.Ay,{title:"Parent Group"},t.createElement(Xe.A,null))),t.createElement(H.A,{primary:h.length?t.createElement(P.iI,{entityRefs:h,defaultKind:"Group"}):"N/A",secondary:"Parent Group"})),t.createElement(K.A,null,t.createElement(Y.A,null,t.createElement(Z.Ay,{title:"Child Groups"},t.createElement(ce.A,null))),t.createElement(H.A,{primary:N.length?t.createElement(P.iI,{entityRefs:N,defaultKind:"Group"}):"N/A",secondary:"Child Groups"})),(a==null?void 0:a.showLinks)&&t.createElement(Ce,{links:v})))))};var et=o(48108);const tt=a=>a.title?t.createElement(b.A,{display:"flex",alignItems:"center"},t.createElement(et.A,{fontSize:"inherit"}),t.createElement(b.A,{ml:1},a.title)):null,at=a=>{var e,l;const{entity:n}=(0,x.u)();if(!n)return t.createElement(Ee.A,{severity:"error"},"User not found");const r=(e=n.metadata.annotations)==null?void 0:e[d.P],{metadata:{name:i,description:s,links:g},spec:{profile:c}}=n,u=(l=c==null?void 0:c.displayName)!=null?l:i,m=c!=null&&c.email?`mailto:${c.email}`:void 0,p=(0,x.g)(n,d.u0,{kind:"Group"});return t.createElement(y.nO,{title:t.createElement(tt,{title:u}),subheader:s,variant:a.variant,action:t.createElement(t.Fragment,null,r&&t.createElement(te.A,{"aria-label":"Edit",title:"Edit Metadata",component:y.N_,to:r},t.createElement(se.A,null)))},t.createElement(T.A,{container:!0,spacing:3,alignItems:"flex-start"},t.createElement(T.A,{item:!0,xs:12,sm:2,xl:1},t.createElement(y.eu,{displayName:u,picture:c==null?void 0:c.picture})),t.createElement(T.A,{item:!0,md:10,xl:11},t.createElement(ie.A,null,(c==null?void 0:c.email)&&t.createElement(K.A,null,t.createElement(Y.A,null,t.createElement(Z.Ay,{title:"Email"},t.createElement(Ae.A,null))),t.createElement(H.A,null,t.createElement(y.N_,{to:m!=null?m:""},c.email))),t.createElement(K.A,null,t.createElement(Y.A,null,t.createElement(Z.Ay,{title:"Member of"},t.createElement(ce.A,null))),t.createElement(H.A,null,t.createElement(P.iI,{entityRefs:p,defaultKind:"Group"}))),(a==null?void 0:a.showLinks)&&t.createElement(Ce,{links:g})))))};var nt=o(65569),ot=o(65398),lt=o.n(ot),rt=o(6077),it=o(50308),st=o.n(it),ct=o(45810),dt=o.n(ct),ut=o(45250);const mt=st()(10),pt=(a,e)=>{const{kind:l,type:n}=e,r=a.map(s=>(0,P.SE)((0,d.KU)(s),{defaultKind:"group"})),i={kind:l.toLocaleLowerCase("en-US"),type:n,owners:r,user:"all"};return dt().stringify({filters:i},{arrayFormat:"repeat"})},gt=a=>[...(0,x.g)(a,d.u0,{kind:"Group"}).map(({kind:n,namespace:r,name:i})=>(0,d.U2)({kind:n,namespace:r,name:i})),(0,d.U2)(a)],vt=a=>a!==void 0,xe=async(a,e,l=[])=>{const n=(0,x.g)(a,d.Kx,{kind:"Group"}),r=n.length>0,i=(0,d.U2)(a);if(r){const s=n.map(p=>(0,d.U2)(p)),u=(await e.getEntitiesByRefs({fields:["kind","metadata.namespace","metadata.name","relations"],entityRefs:s})).items.filter(vt).filter(p=>!l.includes((0,d.U2)(p))),m=(await Promise.all(u.map(p=>mt(()=>xe(p,e,[...l,i]))))).flatMap(p=>p);return(0,ut.uniq)([...m,i])}return[i]},ft=async(a,e,l)=>{const n=a.kind==="Group",r=e==="aggregated",i=a.kind==="User";return r&&n?xe(a,l):r&&i?gt(a):[(0,d.U2)(a)]},yt=(a,e,l)=>l.getEntities({filter:[{kind:e,"relations.ownedBy":a}],fields:["kind","metadata.name","metadata.namespace","spec.type","relations"]});function ht(a,e,l,n=6){const r=(0,_.u)(P.vp),i=l!=null?l:["Component","API","System"],{loading:s,error:g,value:c}=(0,re.default)(async()=>{const u=await ft(a,e,r);return(await yt(u,i,r)).items.reduce((v,f)=>{var N,h;const E=v.find(C=>{var A;return C.kind===f.kind&&C.type===((A=f.spec)==null?void 0:A.type)});return E?E.count+=1:v.push({kind:f.kind,type:(h=(N=f.spec)==null?void 0:N.type)==null?void 0:h.toString(),count:1}),v},[]).sort((v,f)=>f.count-v.count).slice(0,n).map(v=>({counter:v.count,type:v.type,kind:v.kind,queryParams:pt(u,v)}))},[r,a,e]);return{componentsWithCounters:c,loading:s,error:g}}const Et=(0,F.A)(a=>(0,Q.A)({card:{border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[2],borderRadius:"4px",padding:a.spacing(2),transition:`${a.transitions.duration.standard}ms`,"&:hover":{boxShadow:a.shadows[4]},height:"100%"},bold:{fontWeight:a.typography.fontWeightBold},smallFont:{fontSize:a.typography.body2.fontSize},entityTypeBox:{background:e=>a.getPageTheme({themeId:e.type}).backgroundImage,color:e=>a.getPageTheme({themeId:e.type}).fontColor}})),At=({counter:a,type:e,kind:l,url:n})=>{const r=Et({type:e!=null?e:l}),i=e!=null?e:l,s=i.length>10;return t.createElement(y.N_,{to:n,variant:"body2"},t.createElement(b.A,{className:`${r.card} ${r.entityTypeBox}`,display:"flex",flexDirection:"column",alignItems:"center"},t.createElement(j.A,{className:r.bold,variant:"h6"},a),t.createElement(b.A,{sx:{width:"100%",textAlign:"center"}},t.createElement(j.A,{className:`${r.bold} ${s&&r.smallFont}`,variant:"h6"},t.createElement(y.Mm,{text:lt()(i.toLocaleUpperCase("en-US"),a)}))),e&&t.createElement(j.A,{variant:"subtitle1"},l)))},bt=({entity:a,relationsType:e,entityFilterKind:l,entityLimit:n=6})=>{const r=(0,be.Sf)(rt.c),{componentsWithCounters:i,loading:s,error:g}=ht(a,e,l,n);return s?t.createElement(y.ke,null):g?t.createElement(y._1,{error:g}):t.createElement(T.A,{container:!0},i==null?void 0:i.map(c=>{var u;return t.createElement(T.A,{item:!0,xs:6,md:6,lg:4,key:(u=c.type)!=null?u:c.kind},t.createElement(At,{counter:c.counter,kind:c.kind,type:c.type,url:`${r()}/?${c.queryParams}`}))}))},Ct=(0,F.A)(a=>({list:{[a.breakpoints.down("xs")]:{padding:"0 0 12px"}},listItemText:{[a.breakpoints.down("xs")]:{paddingRight:0,paddingLeft:0}},listItemSecondaryAction:{[a.breakpoints.down("xs")]:{width:"100%",top:"auto",right:"auto",position:"relative",transform:"unset"}}})),xt=a=>{const{variant:e,entityFilterKind:l,hideRelationsToggle:n,relationsType:r,entityLimit:i=6}=a,s=n===void 0?!1:n,g=Ct(),{entity:c}=(0,x.u)(),u=c.kind==="User"?"aggregated":"direct",[m,p]=(0,t.useState)(r!=null?r:u);return(0,t.useEffect)(()=>{r||p(u)},[p,u,r]),t.createElement(y.nO,{title:"Ownership",variant:e},!s&&t.createElement(ie.A,{dense:!0},t.createElement(K.A,{className:g.list},t.createElement(H.A,{className:g.listItemText}),t.createElement(nt.A,{className:g.listItemSecondaryAction},"Direct Relations",t.createElement(Z.Ay,{placement:"top",arrow:!0,title:`${m==="direct"?"Direct":"Aggregated"} Relations`},t.createElement(pe.A,{color:"primary",checked:m!=="direct",onChange:()=>{p(m==="direct"?"aggregated":"direct")},name:"pin",inputProps:{"aria-label":"Ownership Type Switch"}})),"Aggregated Relations"))),t.createElement(bt,{entity:c,entityLimit:i,relationsType:m,entityFilterKind:l}))};var Nt=o(78190)},86486:(me,w,o)=>{var d,x=o(4293),P=o(78920);d={value:!0},w.A=void 0;var F=P(o(14041)),Q=x(o(74044)),b=(0,Q.default)(F.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}),"AccountTree");w.A=b},74011:(me,w,o)=>{var d,x=o(4293),P=o(78920);d={value:!0},w.A=void 0;var F=P(o(14041)),Q=x(o(74044)),b=(0,Q.default)(F.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");w.A=b}}]);})();

//# sourceMappingURL=8936.29fd109f.chunk.js.map