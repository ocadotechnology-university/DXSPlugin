"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4889],{94889:(H,E,n)=>{n.r(E),n.d(E,{ApiExplorerIndexPage:()=>w,DefaultApiExplorerPage:()=>I});var l=n(14041),p=n(18690),r=n(23180),y=n(48821),h=n(11638),c=n(74257),u=n(92651),S=n(56981),O=n(17899),K=n(99993);const L=[c.C.columns.createTitleColumn({hidden:!0}),c.C.columns.createNameColumn({defaultKind:"API"}),c.C.columns.createSystemColumn(),c.C.columns.createOwnerColumn(),c.C.columns.createSpecTypeColumn(),c.C.columns.createSpecLifecycleColumn(),c.C.columns.createMetadataDescriptionColumn(),c.C.columns.createTagsColumn()],I=A=>{var x;const{initiallySelectedFilter:t="all",columns:R,actions:s}=A,P=`${(x=(0,y.u)(y.p).getOptionalString("organization.name"))!=null?x:"Backstage"} API Explorer`,b=(0,h.Sf)(S.b),{allowed:N}=(0,O.JT)({permission:K.C4});return l.createElement(r.dT,{themeId:"apis",title:"APIs",subtitle:P,pageTitleOverride:"APIs"},l.createElement(r.UC,null,l.createElement(r.dv,{title:""},N&&l.createElement(r.ly,{title:"Register Existing API",to:b==null?void 0:b()}),l.createElement(r.Yl,null,"All your APIs")),l.createElement(u.B9,null,l.createElement(u.GI,null,l.createElement(u.GI.Filters,null,l.createElement(u.mb,{initialFilter:"api",hidden:!0}),l.createElement(u.QD,null),l.createElement(u.y2,{initialFilter:t}),l.createElement(u.t3,null),l.createElement(u.WI,null),l.createElement(u.mo,null)),l.createElement(u.GI.Content,null,l.createElement(c.C,{columns:R||L,actions:s}))))))},w=A=>(0,p.P1)()||l.createElement(I,{...A})},74257:(H,E,n)=>{n.d(E,{C:()=>D});var l=n(29835),p=n(23180),r=n(92651),y=n(58054),h=n(72501),c=n(7031);const S={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var O=n(75625),K=n(39330),L=n(80109),I=n(15303),w=n(45250),A=n(65398),x=n.n(A),t=n(14041),R=n(67720);const s=Object.freeze({createNameColumn(e){function a(o){var i;return((i=o.metadata)==null?void 0:i.title)||(0,r.SE)(o,{defaultKind:e==null?void 0:e.defaultKind})}return{title:"Name",field:"resolved.entityRef",highlight:!0,customSort({entity:o},{entity:i}){return a(o).localeCompare(a(i))},render:({entity:o})=>t.createElement(r.zI,{entityRef:o,defaultKind:(e==null?void 0:e.defaultKind)||"Component"})}},createSystemColumn(){return{title:"System",field:"resolved.partOfSystemRelationTitle",render:({resolved:e})=>t.createElement(r.iI,{entityRefs:e.partOfSystemRelations,defaultKind:"system"})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>t.createElement(r.iI,{entityRefs:e.ownedByRelations,defaultKind:"group"})}},createSpecTargetsColumn(){return{title:"Targets",field:"entity.spec.targets",render:({entity:e})=>{var a,o;return t.createElement(t.Fragment,null,(((a=e==null?void 0:e.spec)==null?void 0:a.targets)||((o=e==null?void 0:e.spec)==null?void 0:o.target))&&t.createElement(p.Mm,{text:(e.spec.targets||[e.spec.target]).join(", "),placement:"bottom-start"}))}}},createSpecTypeColumn(e={hidden:!1}){return{title:"Type",field:"entity.spec.type",hidden:e.hidden,width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"entity.spec.lifecycle"}},createMetadataDescriptionColumn(){return{title:"Description",field:"entity.metadata.description",render:({entity:e})=>t.createElement(p.Mm,{text:e.metadata.description,placement:"bottom-start"}),width:"auto"}},createTagsColumn(){return{title:"Tags",field:"entity.metadata.tags",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:e})=>t.createElement(t.Fragment,null,e.metadata.tags&&e.metadata.tags.map(a=>t.createElement(R.A,{key:a,label:a,size:"small",variant:"outlined",style:{marginBottom:"0px"}}))),width:"auto"}},createTitleColumn(e){return{title:"Title",field:"entity.metadata.title",hidden:e==null?void 0:e.hidden,searchable:!0}},createLabelColumn(e,a){return{title:(a==null?void 0:a.title)||"Label",field:"entity.metadata.labels",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:o})=>{var i;const m=(i=o.metadata)==null?void 0:i.labels,d=m&&m[e]||(a==null?void 0:a.defaultValue);return t.createElement(t.Fragment,null,d&&t.createElement(R.A,{key:d,label:d,size:"small",variant:"outlined"}))},width:"auto"}},createNamespaceColumn(){return{title:"Namespace",field:"entity.metadata.namespace",width:"auto"}}});function G(e){const{columns:a,data:o,next:i,prev:m}=e,{updateFilters:d}=(0,r.nK)();return t.createElement(p.XI,{columns:a,data:o,options:{paginationPosition:"both",pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1},onSearchChange:g=>d({text:g?new r.V3(g):void 0}),onPageChange:g=>{g>0?i==null||i():m==null||m()},page:m?1:0,totalCount:i?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}}})}const P=({filters:e,entities:a})=>{var o;const i=e.type===void 0;return[s.createTitleColumn({hidden:!0}),s.createNameColumn({defaultKind:(o=e.kind)==null?void 0:o.value}),...m(),s.createMetadataDescriptionColumn(),s.createTagsColumn()];function m(){var d;const g=[s.createSystemColumn(),s.createOwnerColumn(),s.createSpecTypeColumn({hidden:!i}),s.createSpecLifecycleColumn()];switch((d=e.kind)==null?void 0:d.value){case"user":return[];case"domain":case"system":return[s.createOwnerColumn()];case"group":case"template":return[s.createSpecTypeColumn({hidden:!i})];case"location":return[s.createSpecTypeColumn({hidden:!i}),s.createSpecTargetsColumn()];default:return a.every(z=>z.metadata.namespace==="default")?g:[...g,s.createNamespaceColumn()]}}},b=(0,c.A)({root:{color:"#f3ba37"}})(L.A),N=(e,a)=>{const o=i=>i.metadata.title||(0,r.SE)(i,{defaultKind:"Component"});return o(e).localeCompare(o(a))},D=e=>{var a,o,i,m;const{columns:d=P,tableOptions:g,subtitle:z,emptyContent:$}=e,{isStarredEntity:q,toggleStarredEntity:_}=(0,r.IT)(),M=(0,r.nK)(),{loading:B,error:W,entities:F,filters:V,pageInfo:j}=M,ee=!!j,U=(0,t.useMemo)(()=>typeof d=="function"?d(M):d,[d,M]);if(W)return t.createElement("div",null,t.createElement(p.Bp,{severity:"error",title:"Could not fetch catalog entities."},t.createElement(p.z7,{language:"text",text:W.toString()})));const te=[({entity:f})=>{var C;const v=(C=f.metadata.annotations)==null?void 0:C[l._P],T="View";return{icon:()=>t.createElement(t.Fragment,null,t.createElement(h.A,{style:S},T),t.createElement(K.A,{fontSize:"small"})),tooltip:T,disabled:!v,onClick:()=>{v&&window.open(v,"_blank")}}},({entity:f})=>{var C;const v=(C=f.metadata.annotations)==null?void 0:C[l.P],T="Edit";return{icon:()=>t.createElement(t.Fragment,null,t.createElement(h.A,{style:S},T),t.createElement(O.A,{fontSize:"small"})),tooltip:T,disabled:!v,onClick:()=>{v&&window.open(v,"_blank")}}},({entity:f})=>{const C=q(f),v=C?"Remove from favorites":"Add to favorites";return{cellStyle:{paddingLeft:"1em"},icon:()=>t.createElement(t.Fragment,null,t.createElement(h.A,{style:S},v),C?t.createElement(b,null):t.createElement(I.A,null)),tooltip:v,onClick:()=>_(f)}}],ne=((a=V.kind)==null?void 0:a.value)||"",le=((o=V.type)==null?void 0:o.value)||"",Y=[(0,w.capitalize)((m=(i=V.user)==null?void 0:i.value)!=null?m:"all"),le,x()(ne)].filter(f=>f).join(" "),ae=`${Y} (${F.length})`,J=e.actions||te,Q={actionsColumnIndex:-1,loadingType:"linear",showEmptyDataSourceMessage:!B,padding:"dense",...g};if(ee)return t.createElement(G,{columns:U,emptyContent:$,isLoading:B,title:ae,actions:J,subtitle:z,options:Q,data:F.map(X),next:j.next,prev:j.prev});const Z=F.sort(N).map(X),k=20,oe=Z.length>k;return t.createElement(p.XI,{isLoading:B,columns:U,options:{paging:oe,pageSize:k,pageSizeOptions:[20,50,100],...Q},title:`${Y} (${F.length})`,data:Z,actions:J,subtitle:z,emptyContent:$})};D.columns=s,D.defaultColumnsFunc=P;function X(e){const a=(0,y.g)(e,l.jn,{kind:"system"}),o=(0,y.g)(e,l.vv);return{entity:e,resolved:{name:(0,r.SE)(e,{defaultKind:"Component"}),entityRef:(0,l.U2)(e),ownedByRelationsTitle:o.map(i=>(0,r.SE)(i,{defaultKind:"group"})).join(", "),ownedByRelations:o,partOfSystemRelationTitle:a.map(i=>(0,r.SE)(i,{defaultKind:"system"})).join(", "),partOfSystemRelations:a}}}},39330:(H,E,n)=>{var l,p=n(4293),r=n(78920);l={value:!0},E.A=void 0;var y=r(n(14041)),h=p(n(74044)),c=(0,h.default)(y.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");E.A=c}}]);})();

//# sourceMappingURL=4889.571f5aa3.chunk.js.map